import { Callout } from "nextra/components";

# Settings

The settings page is where you can configure various features of OttoFMS, such as the Appearance, Offsite Backups, and more. Each section is explained on the screen.

![Settings](/img/ottofms/console/settings-page.png)

## Appearance

This section allows you to control the appearance of the OttoFMS console. The settings within this section are stored with the server and will apply for any user that logs into the console and from any browser. Some settings (such as the color) are also used by OttoDeploy and the Ottomatic Cloud Console to help you recognize which server you are working with.

The only appearance setting that is **not** saved with the server is the light/dark mode toggle in the top-right of every page. In our experience, each user has their own preference for light/dark mode, so we leave this setting up to the user.

### Environment Tag and Server Nickname

The environment tag and Server Nickname fields are also simply for appearance and can be another way for you to easily identify which server you are working with. If you turn on the "Override FileMaker Server Name" toggle, OttoFMS will change the name of your FileMaker Server to match the Server Nickname you enter here. While this setting is on and OttoFMS is running, this name will always take precedence, even if someone were to change the host name of the FileMaker Server using the FileMaker Server Admin Console.

This feature allows you to reliably identify your server from the FileMaker Pro client, using the `Get ( HostName )` function. If an environment tag is set, it will be prepended to the nickname and in brackets. We suggest using some portable custom functions to read this value.

```text filename="isDevServer" copy
Left ( Get ( HostName ) ; 6 ) = "[DEV] "
```

```text filename="isStagingServer" copy
Left ( Get ( HostName ) ; 6 ) = "[STG] "
```

```text filename="isProductionServer" copy
Left ( Get ( HostName ) ; 7 ) = "[PROD] "
```

{/* TODO, add a link to install these custom functions, maybe from Raycast? or at least link to GitHub */}

## Offsite Backups

If configured, OttoFMS will automatically upload backups to an offsite location. This allows you to keep more backups without taking up space on your FileMaker Server and also provides an extra layer of protection in case your server is compromised.

<Callout type="info">
  For the best experience, we recommend using [Ottomatic Cloud
  Storage](https://ottomatic.cloud) for offsite backups. It's affordable and
  offers a built-in integration to easily configure offsite backups in OttoFMS.
</Callout>

To configure offsite backups, you will need credentials for an S3-compatible storage provider. Upon configuration, you'll be prompted for the following information from your storage provider:

- **Endpoint**: The URL of your S3-compatible storage provider.
- **Access Key ID**
- **Secret Access Key**
- **Region**: Optional, but required for some storage providers
- **Bucket Name**: The name of the bucket where backups should be stored.
- **Remote Folder Path**: A sub-folder to store backups in, so that you can use the same bucket for multiple servers.

After entering this information, click the "Test" button to verify that OttoFMS can connect to your storage provider. If the test is successful, click "Save" to save the configuration. If the test fails, you will be prompted to correct the information and try again.

### Backup Schedule

Otto will create a FileMaker Server Scheduled Backup named `OTTO_OFFSITE`. By default it will backup all databases, to a folder it creates within the Remote Folder Path that you setup. You can modify the schedule to adjust what gets backed up and when, but you **should not change the name of the backup schedule**.

## Deployment Settings

During each deployment, OttoFMS creates a backup of each file before making any changes. This setting here allows to choose how many backups from these deployments you want to keep. The larger the number, the more space it will take up on your server.

For more information about Deployments, see the [Concepts > Deployments](/concepts/deployments) page.

## Build Settings

When you trigger a build from [OttoDeploy](/ottodeploy-features/builds) or the [OttoFMS Developer API](/apidoc#tag/Build/operation/PostOttoApiBuild), it is stored on the server. This setting allows you to choose how many builds you want to keep. The larger the number, the more space it will take up on your server.

This setting does not apply to "Just-in-time" builds, which are cleared from the server after they are downloaded.

For more information about Builds, see the [Concepts > Builds](/concepts/builds) page.

## Popup Settings

There are a few places within the OttoFMS console where we use popups to promote other useful tools that can be installed on your FileMaker Server. If you've dismissed this popups and want to see them again, you can reset them here.

## Server Info

This section shows the installed version of OttoFMS, your FileMaker Server version, and the registered machine ID that links this server to your [license](/license).

## Restart OttoFMS

A convenient way to restart the OttoFMS process running on your server. For more information, see [Restarting OttoFMS](/starting-stopping).

## Deactivate OttoFMS License

Use this section if you need to change your license. After deactivating, OttoFMS will stop running until you enter a new license.
